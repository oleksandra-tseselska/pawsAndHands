<!DOCTYPE html>
<html lang="en">
<head>
<!--    this block has all needed initial bootstrap and google fonts imports-->
    <th:block th:insert="~{fragments/head.html :: head}"></th:block>

<!--    add all your additional styles files add below this line-->
    <link href="css/all-users.css" rel="stylesheet"/>
    <link href="css/styles-icomoon.css" rel="stylesheet"/>

    <title>All users</title>

</head>
<body class="d-flex row">
<!-- this is fragment for header to display -->
<header th:insert="~{fragments/header.html :: header}"></header>



  <main>
      <section class="container">
<!--         Three decisions:
        1. masonry: add first <ul> style="padding-left: 0;" data-masonry='{"percentPosition": true}'
           + <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
        2. css .all-user-img add to <img> ?
        3. add to class col "d-flex align-items-stretch"
-->

      <div th:if="${usersList.isEmpty()}">
          <div class="row">
              <div class="col-2"></div>
              <div class="col-8">
                  <h1>There are no users at the moment</h1>
              </div>
              <div class="col-2"></div>
          </div>
      </div>

      <h1 th:if="${!usersList.isEmpty()}" class="p-4">All users</h1>

        <ul  class="row row-cols-1 row-cols-md-2 row-cols-xxl-3 g-4 ps-0"
             data-masonry='{"percentPosition": true,  "itemSelector": ".col" }'
             th:if="${!usersList.isEmpty()}"
        >
            <li class="col" th:each="userItem: ${usersList}">    <!--th:if="${!userItem.id.equals(userIdFromCookie)}"-->
                <div class="card rounded-top">

<!--                    USER LINK   -->

                    <a
                            th:href="'profile-page/'+${userItem.id}"
                            class="text-center user-link rounded-top border-bottom"
                    >

<!--                    USER PHOTO  -->

                        <img
                                th:src="${userItem.photoPath}"
                                class="card-img-top all-user-img"
                                loading="lazy"
                                alt="Profile photo"
                        >

<!--                    USER INFO MIN  -->

                        <div class="card-body">
                            <h4>
                                <span class="card-title" th:text="${userItem.name}"></span>
                                <span class="card-title" th:text="${userItem.surname}"></span>
                            </h4>
<!--                           bg-primary -->
                            <h4

                                    class="badge rounded-pill bg-primary ps-2 pb-2 text-center d-block border border-white text-white"
                                    th:text="${userItem.status.toLowerCase()}"
                            ></h4>
                        </div>
                    </a>

<!--                USER SOCIAL LINK LIST    -->

                    <ul class="card-body social-list">
                        <li class="card-link d-flex">
                            <a
                                    class="social-list-link"
                                    href="https://uk-ua.facebook.com/"
                                    target="_blank"
                                    aria-label="facebook"
                            >
                          <span class="social-item-icon">
                            <span class="icon-facebook"></span>
                          </span>
                            </a>
                        </li>
                        <li class="card-link">
                            <a
                                    class="social-list-link"
                                    href="https://twitter.com/"
                                    target="_blank"
                                    aria-label="twitter"
                            >
                          <span class="social-item-icon">
                            <span class="icon-twitter"></span>
                          </span>
                            </a>
                        </li>
                        <li class="card-link">
                            <a
                                    class="social-list-link"
                                    href="https://instagram.com/"
                                    target="_blank"
                                    aria-label="instagram"
                            >
                          <span class="social-item-icon">
                            <span class="icon-instagram"></span>
                          </span>
                            </a>
                        </li>
                        <li class="card-link">
                            <a
                                    class="list-link"
                                    href="https://www.youtube.com/"
                                    target="_blank"
                                    aria-label="youtube"
                            >
                          <span class="social-item-icon">
                            <span class="icon-youtube"></span>
                          </span>
                            </a>
                        </li>
                        <li class="card-link">
                            <a
                                    class="social-list-link"
                                    href="https://www.pinterest.com/"
                                    target="_blank"
                                    aria-label="pinterest"
                            >
                          <span class="social-item-icon">
                            <span class="icon-pinterest"></span>
                          </span>
                            </a>
                        </li>
                    </ul>

<!--                USER PAWS LIST   -->

                    <h6 th:if="${!userItem.getOwnedPets().isEmpty()}" class="text-muted text-start ps-2">paws:</h6>
                    <ul
                            th:if="${!userItem.getOwnedPets().isEmpty()}"
                            class="list-group list-group-flush ps-0"
                    >

<!--                 USER PAW      -->

                        <li th:each="petItem: ${userItem.getOwnedPets()}" class="list-group-item user-paw">
                            <a th:href="@{'/pet-profile/' + ${petItem.id}}">
                                <ul class="pb-2 ps-2">
                                    <li
                                            class="d-flex justify-content-between"
                                            style="position: relative"
                                    >
                                        <img
                                                class="align-self-start"
                                                src="../logo.png"
                                                alt="default profile logo"
                                                style="object-fit: cover; border-radius: 50%; max-width: 90px"
                                        >
                                        <h4 th:if="${petItem.type.equals('dog')}">
                                            <span
                                                    class="badge position-absolute top-0 start-0 rounded-pill bg-success d-inline-block"
                                                    style="opacity: 60%;"
                                                    th:text="${petItem.getType().toLowerCase()}"
                                            ></span>
                                        </h4>
                                        <h4 th:if="${petItem.type.equals('cat')}">
                                            <span
                                                    class="badge position-absolute top-0 start-0 rounded-pill bg-primary d-inline-block"
                                                    style="opacity: 60%;"
                                                    th:text="${petItem.getType().toLowerCase()}"
                                            ></span>
                                        </h4>
                                        <h5 class="text-dark ps-2 align-self-end text-end">
                                            <span
                                                    class="ps-2"
                                                    th:if="${petItem.sex.toLowerCase().equals('female')}"
                                                    th:text="Ms. "
                                            ></span>
                                            <span
                                                    class="ps-2"
                                                    th:if="${petItem.sex.toLowerCase().equals('male')}"
                                                    th:text="Mr. "
                                            ></span>
                                            <span th:text="${petItem?.nickname}"></span>
                                        </h5>
                                    </li>
                                    <li th:if="${!petItem.breed.isBlank()}">
                                        <span class="ps-2 d-flex justify-content-end text-muted" th:text="${petItem.breed}"></span>
                                    </li>
                                </ul>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </section>
  </main>
  <footer class="align-self-end" th:insert="~{fragments/footer.html :: footer}"></footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>

</body>
</html>